<polymer-element name="el-property"
                 attributes="Name Type Value"
                 layout vertical center>
    <template>

        <!-- TODO validation -->

        <link rel="stylesheet"
              href="el-property.css" />

        <template if="{{Type !== 'Component'}}">

            <label for="{{Name}}">
                {{Name}}
            </label>

        </template>

        <!-- #region types -->

        <template if="{{Type === 'String'}}">

            <input type="text"
                   name="{{Name}}"
                   value="{{Value}}"
                   required />

        </template>

        <template if="{{Type === 'Textbox'}}">

            <textarea name="{{Name}}" 
                      value="{{Value}}" 
                      required>
            </textarea>

        </template>

        <template if="{{Type === 'Int32'}}">

            <input type="number"
                   name="{{Name}}"
                   value="{{Value}}"
                   required />

        </template>

        <template if="{{Type === 'Image'}}">

            <input type="file"
                   name="{{Name}}"
                   value="{{Value}}"
                   required />

        </template>

        <template if="{{Type === 'Boolean'}}">

            <input type="checkbox"
                   name="{{Name}}"
                   checked="{{Value}}" />

        </template>

        <template if="{{Type === 'Component'}}">

            <el-component name="{{Name}}"
                          props="{{Value.Props}}"
                          nested="true">
            </el-component>

        </template>

        <!-- #endregion -->

        <!-- #region list -->

        <template if="{{ Type | isList}}">

            <section id="listItems">
            </section>

            <section id="add" 
                     layout vertical center>

                <section layout horizontal center>

                    <div flex></div>

                    <button on-tap="{{showAddListItem}}">
                        <core-icon icon="add"></core-icon>
                    </button>

                </section>

                <article hidden>
                    <template if="{{listType(Type) != 'Component'}}">
                        <el-property name="{{Name}}"
                                     type="{{Type | listType}}"
                                     value>
                        </el-property>
                    </template>

                    <template if="{{listType(Type) == 'Component'}}">
                        <el-property name="{{Name}}"
                                     type="{{Type | listType}}"
                                     value="{{obj | getEmptyComponent}}">
                        </el-property>
                    </template>

                    <section layout horizontal center>

                        <div flex></div>

                        <button on-tap="{{addListItem}}">
                            <core-icon icon="check"></core-icon>
                        </button>

                    </section>

                </article>

            </section>

        </template>

    </template>

    <!-- #endregion -->

    <script src="el-property.js"></script>

</polymer-element>