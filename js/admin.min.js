(function(){"use strict";function t(){var t=document.querySelector("title");n.injectBoundHTML(n.SelectedPage.replace(/^view-/,"").replace(/-/g," ")+" - Admin",t)}var n=document.getElementById("page"),r;n.SelectedPage="view-loading";n.ready=function(){t()};n.handleAuth=function(i){i=i.detail.response;i==="True"?n.$.ajaxSite.go():i==="False"&&(n.SelectedPage="view-login",t())};n.handleLogin=function(t){t=t.detail.response;t==="true"?(n.email=null,n.password=null,n.$.ajaxAuth.go()):r.innerHTML=t};n.login=function(){r=document.querySelector("section[data-pagename=view-login] .status");n.injectBoundHTML("<paper-spinner active><paper-spinner/>",r);n.$.ajaxLogin.go()};n.handleSite=function(i){i=i.detail.response;document.querySelector("header").removeAttribute("hidden");document.getElementById("add").removeAttribute("hidden");i!==null&&(n.Site=i,n.SelectedPage=n.Site.Pages[0].Name,t(),console.log(n.Site))};var u=!1,f=!1,o=!1,i,e;n.startPageSelect=function(n){u=!1;f=!1;document.querySelector("core-drawer-panel").setAttribute("disableSwipe","true");setTimeout(function(){if(!u){var t=document.querySelector("nav section[data-id='"+n+"']");i=undefined;f=!0;t.setAttribute("class","drag");window.onmousemove=function(n){i==undefined&&(i=n.clientY);e=n.clientY;t.setAttribute("style","top:"+(e-i)+"px")}}},500)};n.endPageSelect=function(r,o,s){if(f){window.onmousemove=undefined;var c=e-i,l=document.querySelectorAll("nav section[data-id]")[0].offsetHeight,h=Math.round(s+c/-l);h=h>s?h+1:h-1;n.$.ajaxEditPage.params='{"id":"'+r+'","name":"'+o+'","order":'+h+"}";n.$.ajaxEditPage.go();n.SelectedPage="view-loading"}else n.SelectedPage=o,t(),u=!0;document.querySelector("core-drawer-panel").setAttribute("disableSwipe","false")};n.deletePage=function(t){n.$.ajaxDeletePage.params='{"id":"'+t+'"}';n.$.ajaxDeletePage.go();n.SelectedPage="view-loading";o=!1};n.addPage=function(){var t=document.querySelector("nav section:nth-child(4)"),i;t===null&&(t=document.querySelector("nav section:nth-child(3)"));i=t!=null?parseInt(t.getAttribute("data-order"),10)+1:0;n.$.ajaxAddPage.params='{"name":"'+n.newPageName+'","order":'+i+"}";n.$.ajaxAddPage.go();n.SelectedPage="view-loading";n.newPageName=null};n.showAddPage=function(){n.SelectedPage="view-add-page";t()};n.toggleNav=function(){document.querySelector("core-drawer-panel").togglePanel()};n.toggleAddOptions=function(){n.$.addOptions.getAttribute("hidden")==null?n.$.addOptions.setAttribute("hidden",""):n.$.addOptions.removeAttribute("hidden")};n.showAddComponentOptions=function(){n.$.addOptions.setAttribute("hidden","");n.$.addComponentOptions.removeAttribute("hidden")};n.showAddComponent=function(t,i,r){var s=document.querySelector("section[data-pagename=view-component] el-component"),h=r.getAttribute("data-name"),e,u,f,o;for(f in n.Site.Components)n.Site.Components[f].Name===h&&(e=n.Site.Components[f]);for(u='{"Type":"'+e.Name+'",',f=0;f<e.Props.length;f++)o=e.Props[f],o.Name!="Type"&&(u+='"'+o.Name+'":null,');u=u.replace(/,$/,"")+"}";u=JSON.parse(u);s.data=u;s.pagename=n.SelectedPage;n.SelectedPage="view-component";n.$.addComponentOptions.setAttribute("hidden","")}})();
//# sourceMappingURL=admin.min.js.map
